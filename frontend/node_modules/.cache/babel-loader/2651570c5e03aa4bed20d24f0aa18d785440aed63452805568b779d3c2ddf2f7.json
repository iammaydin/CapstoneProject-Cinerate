{"ast":null,"code":"// import { useState, useEffect } from \"react\";\n// import { Form, Row, Col, Card, Spinner } from \"react-bootstrap\";\n// import axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n\n// export default function Search() {\n//   const [query, setQuery] = useState(\"\");\n//   const [movies, setMovies] = useState([]);\n//   const [loading, setLoading] = useState(false);\n//   const apiKey = \"341cf1f6a54f15a1c916c3a4adf58076\";\n//   console.log(apiKey);\n//   useEffect(() => {\n//     const searchMovies = async () => {\n//       setLoading(true);\n//       let queryStr = \"\";\n//       if (query.length > 0) {\n//         queryStr = `/search/movie?query=\"${query}\"&include_adult=false&language=en-US&page=1`; // add page query\n//       } else {\n//         queryStr =\n//           \"/discover/movie?include_adult=false&include_video=false&language=en-US&page=1&sort_by=popularity.desc\"; // add page query\n//       }\n//       try {\n//         // gawin mong dynamic yung bearer token\n//         const token = localStorage.getItem(\"token\");\n//         const options = {\n//           method: \"GET\",\n//           headers: {\n//             accept: \"application/json\",\n//             Authorization: `Bearer ${token}`,\n//           },\n//         };\n\n//         fetch(\"https://api.themoviedb.org/3\" + queryStr, options)\n//           .then((res) => res.json())\n//           .then((res) => {\n//             console.log(res.results);\n//             setMovies(res.results);\n//           })\n//           .catch((err) => console.error(err));\n\n//         // const res = await axios.get(`/api/movies/search`);\n//         // console.log(res);\n\n//         const response = await axios.get(`/api/movies/search?query=${query}`);\n//         console.log(response);\n//         setMovies(response.data);\n//       } catch (err) {\n//         console.error(err);\n//       }\n//       setLoading(false);\n//     };\n\n//     const timer = setTimeout(searchMovies, 500);\n//     return () => clearTimeout(timer);\n//   }, [query]);\n\n//   return (\n//     <div className=\"p-4\">\n//       <Form className=\"mb-4\">\n//         <Form.Control\n//           size=\"lg\"\n//           type=\"search\"\n//           placeholder=\"Search for movies...\"\n//           value={query}\n//           onChange={(e) => setQuery(e.target.value)}\n//         />\n//       </Form>\n\n//       {loading && <Spinner animation=\"border\" className=\"d-block mx-auto\" />}\n\n//       <Row xs={1} md={4} className=\"g-4\">\n//         {movies.map((movie) => (\n//           <Col key={movie.id}>\n//             <Card className=\"h-100 shadow-sm\">\n//               <Card.Img\n//                 variant=\"top\"\n//                 src={\n//                   movie.poster_path\n//                     ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n//                     : \"/placeholder.jpg\"\n//                 }\n//               />\n//               <Card.Body>\n//                 <Card.Title>{movie.title}</Card.Title>\n//                 <Card.Text className=\"text-muted small\">\n//                   {movie.release_date} • {movie.genres?.join(\", \")}\n//                 </Card.Text>\n//                 <Link\n//                   to={`/movie/${movie.id}`}\n//                   className=\"btn btn-primary w-100\"\n//                 >\n//                   View Details\n//                 </Link>\n//               </Card.Body>\n//             </Card>\n//           </Col>\n//         ))}\n//       </Row>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/May Din/Desktop/Cinerate/frontend/src/pages/Search.js"],"sourcesContent":["// import { useState, useEffect } from \"react\";\r\n// import { Form, Row, Col, Card, Spinner } from \"react-bootstrap\";\r\n// import axios from \"axios\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\n// export default function Search() {\r\n//   const [query, setQuery] = useState(\"\");\r\n//   const [movies, setMovies] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n//   const apiKey = \"341cf1f6a54f15a1c916c3a4adf58076\";\r\n//   console.log(apiKey);\r\n//   useEffect(() => {\r\n//     const searchMovies = async () => {\r\n//       setLoading(true);\r\n//       let queryStr = \"\";\r\n//       if (query.length > 0) {\r\n//         queryStr = `/search/movie?query=\"${query}\"&include_adult=false&language=en-US&page=1`; // add page query\r\n//       } else {\r\n//         queryStr =\r\n//           \"/discover/movie?include_adult=false&include_video=false&language=en-US&page=1&sort_by=popularity.desc\"; // add page query\r\n//       }\r\n//       try {\r\n//         // gawin mong dynamic yung bearer token\r\n//         const token = localStorage.getItem(\"token\");\r\n//         const options = {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             accept: \"application/json\",\r\n//             Authorization: `Bearer ${token}`,\r\n//           },\r\n//         };\r\n\r\n//         fetch(\"https://api.themoviedb.org/3\" + queryStr, options)\r\n//           .then((res) => res.json())\r\n//           .then((res) => {\r\n//             console.log(res.results);\r\n//             setMovies(res.results);\r\n//           })\r\n//           .catch((err) => console.error(err));\r\n\r\n//         // const res = await axios.get(`/api/movies/search`);\r\n//         // console.log(res);\r\n\r\n//         const response = await axios.get(`/api/movies/search?query=${query}`);\r\n//         console.log(response);\r\n//         setMovies(response.data);\r\n//       } catch (err) {\r\n//         console.error(err);\r\n//       }\r\n//       setLoading(false);\r\n//     };\r\n\r\n//     const timer = setTimeout(searchMovies, 500);\r\n//     return () => clearTimeout(timer);\r\n//   }, [query]);\r\n\r\n//   return (\r\n//     <div className=\"p-4\">\r\n//       <Form className=\"mb-4\">\r\n//         <Form.Control\r\n//           size=\"lg\"\r\n//           type=\"search\"\r\n//           placeholder=\"Search for movies...\"\r\n//           value={query}\r\n//           onChange={(e) => setQuery(e.target.value)}\r\n//         />\r\n//       </Form>\r\n\r\n//       {loading && <Spinner animation=\"border\" className=\"d-block mx-auto\" />}\r\n\r\n//       <Row xs={1} md={4} className=\"g-4\">\r\n//         {movies.map((movie) => (\r\n//           <Col key={movie.id}>\r\n//             <Card className=\"h-100 shadow-sm\">\r\n//               <Card.Img\r\n//                 variant=\"top\"\r\n//                 src={\r\n//                   movie.poster_path\r\n//                     ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\r\n//                     : \"/placeholder.jpg\"\r\n//                 }\r\n//               />\r\n//               <Card.Body>\r\n//                 <Card.Title>{movie.title}</Card.Title>\r\n//                 <Card.Text className=\"text-muted small\">\r\n//                   {movie.release_date} • {movie.genres?.join(\", \")}\r\n//                 </Card.Text>\r\n//                 <Link\r\n//                   to={`/movie/${movie.id}`}\r\n//                   className=\"btn btn-primary w-100\"\r\n//                 >\r\n//                   View Details\r\n//                 </Link>\r\n//               </Card.Body>\r\n//             </Card>\r\n//           </Col>\r\n//         ))}\r\n//       </Row>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}